(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,n){e.exports=n(610)},178:function(e,t,n){},610:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(88),o=n.n(r),c=(n(176),n(178),n(58)),l=n(59),s=n(61),m=n(60),u=n(62),d=n(63),h=n.n(d),x=n(89),f=n(7),v=n.n(f),p=n(49),g=n(50);function b(){var e=Object(p.a)(["\n  border: 1px solid lightgrey;\n  margin: 20px;\n"]);return b=function(){return e},e}function y(){var e=Object(p.a)(["\n  color: white;\n  background-color: #2c71e0;\n  padding: 10px 20px;\n  border-radius: 4px;\n  border: 1px solid #0E5DD9; \n"]);return y=function(){return e},e}function w(){var e=Object(p.a)(["\n  width: 50px;\n  text-align: center;\n  display: inline-block;\n"]);return w=function(){return e},e}function X(){var e=Object(p.a)(["\n  width: 40px;\n  border-radius: 4px;\n  border: 1px solid lightgray;\n"]);return X=function(){return e},e}function Y(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Y=function(){return e},e}function C(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return C=function(){return e},e}var E=g.a.div(C()),k=g.a.div(Y()),_=g.a.input(X()),P=g.a.span(w()),O=g.a.button(y()),B=g.a.canvas(b()),M=(a.Component,function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={minX:-5,maxX:5,minY:-5,maxY:5,screenWidth:500,screenHeight:500,a:v.a.complex(1,5),b:v.a.complex(2,5),c:v.a.complex(2,5),d:v.a.complex(1,5),a_str:{re:"1",im:"5"},b_str:{re:"2",im:"5"},c_str:{re:"2",im:"5"},d_str:{re:"1",im:"5"},points:[]},n.findBorderValuesOnMobiusLine=function(e,t,a,i){for(var r=n.calculatePoint(v.a.complex(e,t)),o=r.re,c=r.re,l=r.im,s=r.im,m=(a-e)/1e4,u=(i-t)/1e4,d=0;d<=1e4;d++){var h=v.a.complex(e+d*m,t+d*u),x=n.calculatePoint(h);x.re>c&&(c=x.re),x.re<o&&(o=x.re),x.im>s&&(s=x.im),x.im<l&&(l=x.im)}return{minX:o,maxX:c,minY:l,maxY:s}},n.findBorderValues=function(e,t){var n=e.minX,a=e.maxX,i=e.minY,r=e.maxY;return t.maxX>a&&(a=t.maxX),t.minX<n&&(n=t.minX),t.maxY>r&&(r=t.maxY),t.minY<i&&(i=t.minY),{minX:n,maxX:a,minY:i,maxY:r}},n.calculateMobiusBorders=function(){var e=n.state.points,t=null;if(!(e.length>=2))return t;var a=e[0],i=e[1];t=n.findBorderValuesOnMobiusLine(a.re,a.im,i.re,i.im);for(var r=1;r<e.length-1;r++){var o=e[r],c=e[r+1];t=n.findBorderValues(t,n.findBorderValuesOnMobiusLine(o.re,o.im,c.re,c.im))}var l=e[e.length-1],s=e[0];return(t=n.findBorderValues(t,n.findBorderValuesOnMobiusLine(l.re,l.im,s.re,s.im))).minX-=.2*Math.abs(t.minX),t.maxX+=.2*Math.abs(t.maxX),t.minY-=.2*Math.abs(t.minY),t.maxY+=.2*Math.abs(t.maxY),t},n.drawMobius=function(e,t){for(var a=n.state.points,i=0;i<a.length-1;i++){var r=a[i],o=a[i+1];n.drawLine3(e,r.re,r.im,o.re,o.im,t)}if(a.length>0){var c=a[a.length-1],l=a[0];n.drawLine3(e,c.re,c.im,l.re,l.im,t)}},n.drawUntransformed=function(e){for(var t=n.state,a=t.points,i={minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY},r=0;r<a.length-1;r++){var o=a[r],c=a[r+1];n.drawLine2(e,o.re,o.im,c.re,c.im,i)}if(a.length>0){var l=a[a.length-1],s=a[0];n.drawLine2(e,l.re,l.im,s.re,s.im,i)}},n.drawPointName=function(e,t,n){var a=t.x,i=t.y,r=e.font,o=e.fillStyle;e.font="20px Arial",e.fillStyle="red",e.fillText(n,a,i),e.font=r,e.fillStyle=o},n.onClickHandler=function(){n.redraw()},n.onMoveHandler=function(e){var t=n.state.points,a=document.getElementById("canvas_basic_sketch").getBoundingClientRect(),i=e.clientX-a.left,r=n.state.screenHeight-(e.clientY-a.top),o=n.calculatePositionFromRaster(i,r,{minX:-5,maxX:5,minY:-5,maxY:5});0===t.length?t=t.concat(o):t[t.length-1]=o,n.setState({points:t},function(){n.redraw()})},n.onChangeHandler=function(e,t,a){var i=a.target.value,r=parseFloat(i),o="".concat(e,"_str"),c=n.state[o],l=n.state[e];t?(c.re=i,isNaN(r)||(l.re=r)):(c.im=i,isNaN(r)||(l.im=r)),n.setState({el:l,elStr:c}),console.log(n.state),n.redraw()},n.calculatePositionFromRaster=function(e,t,a){var i=a.minX,r=a.maxX,o=a.minY,c=a.maxY,l=n.state,s=o+(c-o)*(t/l.screenHeight),m=i+(r-i)*(e/l.screenWidth);return v.a.complex(m,s)},n.addPoint=function(e){var t=document.getElementById("canvas_basic_sketch").getBoundingClientRect(),a=e.clientX-t.left,i=n.state.screenHeight-(e.clientY-t.top);console.log("x: ",a,"y: ",i);var r=n.state,o=(r.minX,r.maxX,r.minY,r.maxY,r.points),c=n.calculatePositionFromRaster(a,i,{minX:-5,maxX:5,minY:-5,maxY:5});o=o.concat(c),n.setState({points:o},function(){n.redraw()})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"calculatePoint",value:function(e){var t=this.state,n=t.a,a=t.b,i=t.c,r=t.d;return v.a.divide(v.a.sum(v.a.multiply(n,e),a),v.a.sum(v.a.multiply(i,e),r))}},{key:"calculateRasterPosition2",value:function(e,t,n){var a=this.state,i=a.screenWidth,r=a.screenHeight,o=n.minX,c=n.maxX,l=n.minY;return{x:(e-o)/(c-o)*i,y:r-(t-l)/(n.maxY-l)*r}}},{key:"drawCordinateAxis",value:function(e){var t=this.state,n=t.minX,a=t.maxX,i=t.minY,r=t.maxY,o={minX:n,maxX:a,minY:i,maxY:r};this.drawLine2(e,0,i,0,r,o),this.drawLine2(e,n,0,a,0,o),e.font="10px Arial";for(var c=n+1;c<a;c++){var l=this.calculateRasterPosition2(c,0,o),s=l.x,m=l.y;e.fillText(c,s,m-10)}for(var u=i+1;u<r;u++){var d=this.calculateRasterPosition2(0,u,o);s=d.x,m=d.y;e.fillText(u,s+10,m)}}},{key:"drawCordinateAxis2",value:function(e,t){var n=t.minX,a=t.maxX,i=t.minY,r=t.maxY,o=(a+n)/2,c=(r+i)/2;this.drawLine2(e,o,i,o,r,t),this.drawLine2(e,n,c,a,c,t);var l=(a-n)/10,s=(r-i)/10;e.font="10px Arial";for(var m=1;m<10;m++){var u=n+m*l,d=this.calculateRasterPosition2(u,c,t),h=d.x,x=d.y;e.fillText(u.toFixed(2),h,x-10)}for(var f=1;f<10;f++){var v=i+f*s,p=this.calculateRasterPosition2(o,v,t);h=p.x,x=p.y;e.fillText(v.toFixed(2),h,x)}}},{key:"drawLine2",value:function(e,t,n,a,i,r){for(var o=(a-t)/1e4,c=(i-n)/1e4,l=0;l<=1e4;l++){var s=v.a.complex(t+l*o,n+l*c),m=this.calculateRasterPosition2(s.re,s.im,r),u=m.x,d=m.y;e.fillRect(u,d,1,1)}}},{key:"drawLine3",value:function(e,t,n,a,i,r){for(var o=(a-t)/1e4,c=(i-n)/1e4,l=0;l<=1e4;l++){var s=v.a.complex(t+l*o,n+l*c),m=this.calculatePoint(s),u=this.calculateRasterPosition2(m.re,m.im,r),d=u.x,h=u.y;e.fillRect(d,h,1,1)}}},{key:"redraw",value:function(){var e=Object(x.a)(h.a.mark(function e(){var t,n,a,i,r,o,c,l,s,m,u,d,x,f;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementById("canvas_basic_sketch"),(n=t.getContext("2d")).clearRect(0,0,t.width,t.height),a=document.getElementById("my_canvas"),(i=a.getContext("2d")).clearRect(0,0,a.width,a.height),r=this.calculateMobiusBorders(),this.drawCordinateAxis(n),this.drawUntransformed(n),r&&(this.drawCordinateAxis2(i,r),this.drawMobius(i,r)),o=this.state,c=o.minX,l=o.maxX,s=o.minY,m=o.maxY,u=o.points,d={minX:c,maxX:l,minY:s,maxY:m},x=0;x<u.length;x++)this.drawPointName(n,this.calculateRasterPosition2(u[x].re,u[x].im,d),"p".concat(x+1)),r&&(f=this.calculatePoint(u[x]),this.drawPointName(i,this.calculateRasterPosition2(f.re,f.im,r),"p".concat(x+1)));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=document.getElementById("my_canvas").getContext("2d");this.drawCordinateAxis(e);var t=document.getElementById("canvas_basic_sketch").getContext("2d");this.drawCordinateAxis(t)}},{key:"render",value:function(){var e=this;return i.a.createElement(E,null,i.a.createElement("div",null,i.a.createElement(k,null,i.a.createElement("div",null,i.a.createElement(P,null,"a ="),i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("a",!0,t)},value:this.state.a_str.re})," +",i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("a",!1,t)},value:this.state.a_str.im})," i"),i.a.createElement("div",null,i.a.createElement(P,null,"b ="),i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("b",!0,t)},value:this.state.b_str.re})," +",i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("b",!1,t)},value:this.state.b_str.im})," i"),i.a.createElement("div",null,i.a.createElement(P,null,"c ="),i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("c",!0,t)},value:this.state.c_str.re})," +",i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("c",!1,t)},value:this.state.c_str.im})," i"),i.a.createElement("div",null,i.a.createElement(P,null,"d ="),i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("d",!0,t)},value:this.state.d_str.re})," +",i.a.createElement(_,{type:"text",onChange:function(t){e.onChangeHandler("d",!1,t)},value:this.state.d_str.im})," i")),i.a.createElement(O,{onClick:this.onClickHandler},"Nacrtaj")),i.a.createElement("div",null,i.a.createElement(B,{id:"canvas_basic_sketch",width:"500px",height:"500px",onClick:this.addPoint,onMouseMove:this.onMoveHandler,onMouseOut:function(){var t=e.state.points;t.pop(),e.setState({points:t},function(){e.redraw()})},onMouseEnter:this.addPoint}),i.a.createElement(B,{id:"my_canvas",width:"500px",height:"500px"})))}}]),t}(a.Component)),j=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(M,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[171,2,1]]]);
//# sourceMappingURL=main.e4f1488f.chunk.js.map